classDiagram
    direction TB
    class ChatRepository{
        <<Protocol>>
        setListenerForChatMessages(for chatId: Int, completion: ((ChatMessage) -> Void))
        removeListenerForChatMessages(for chatId: Int)
        setListenerForChatBasicInfo(for chatId: Int, completion: ((Chat) -> Void))
        removeListenerForChatBasicInfo(for chatId: Int)
        getBasicInfo(for id: Int, completion:((Chat) -> Void))
        getChat(id: Int, completion: ((Chat) -> Void))
        sendChatMessage(chatMessage: ChatMessage, to chatId: Int) Bool
        getChatPreview(for id: Int, completion: ((Chat) -> Void))
    }
    
    class MapRepository{
        <<Protocol>>
        listenForFriendsLocations(completion: ([String: CLLocation]) -> Void)
        updateCurrentUserLocation(_ location: CLLocation, userId: String)
        removeCurrentUserLocation(userId: String)
    }
    